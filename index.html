<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AsiaTiger — Home</title>
  <meta name="description" content="AsiaTiger web games" />
  <link rel="icon" href="logo.png" />

  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#ffb86b; --muted:#9aa4b2; color-scheme:dark;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:linear-gradient(180deg,#071021 0%,#071827 100%);color:#e6eef6}
    .container{max-width:1100px;margin:36px auto;padding:24px}
    header{display:flex;align-items:center;gap:16px}
    header img{width:64px;height:64px;border-radius:8px;object-fit:cover}
    header h1{font-size:1.6rem;margin:0}
    nav{margin-top:12px;display:flex;gap:12px;flex-wrap:wrap}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:var(--accent);text-decoration:none;font-weight:600}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:20px}
    .card{background:var(--card);padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .card h3{margin:0 0 8px 0;font-size:1.05rem}
    .card p{margin:0;color:var(--muted);font-size:0.95rem}
    footer{margin-top:28px;color:var(--muted);font-size:0.9rem;text-align:center}
    .games-list{display:flex;flex-direction:column;gap:8px}
    .games-list a{display:inline-block;padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.02);color:#dfe9f3;text-decoration:none}
    .top-actions{margin-left:auto;display:flex;gap:8px}
    .balance{background:#071827;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .note{color:var(--muted);font-size:13px}
    @media (max-width:600px){header{flex-direction:column;align-items:flex-start}.top-actions{margin-left:0}}
    pre.debug{background:#071827;border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:8px;color:var(--muted);overflow:auto}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="logo.png" alt="AsiaTiger logo" />
      <div>
        <h1>AsiaTiger</h1>
        <div class="note">Play web games • Fast deploy • Built with JavaScript</div>
      </div>
      <div class="top-actions">
        <a class="btn" href="login.html">Login</a>
        <a class="btn" href="admin.html">Admin</a>
      </div>
    </header>

    <nav>
      <a class="btn" href="games.html">All Games</a>
      <a class="btn" href="stats.html">Stats</a>
      <a class="btn" href="wallet.html">Wallet</a>
      <a class="btn" href="logs.html">Logs</a>
      <a class="btn" href="https://asiatiger-web.vercel.app" target="_blank">Live Site</a>
    </nav>

    <main>
      <section style="margin-top:20px">
        <div class="card">
          <h3>Featured Games</h3>
          <p>Quick access to a few popular games. Click to open and play in your browser.</p>
          <div class="games-list" style="margin-top:12px">
            <a href="games/slot.html">Slot</a>
            <a href="games/fishing.html">Fishing</a>
            <a href="games/panda.js">Panda (JS)</a>
            <a href="games/space.js">Space (JS)</a>
            <a href="games/candy.js">Candy (JS)</a>
          </div>
        </div>
      </section>

      <section class="grid" aria-label="site sections">
        <div class="card">
          <h3>About</h3>
          <p>AsiaTiger is a lightweight web game collection. This repo contains HTML, JS and assets for client side games.</p>
        </div>

        <div class="card">
          <h3>Balance</h3>
          <div class="balance">
            <div style="font-size:13px;color:var(--muted)">Balance</div>
            <div id="balanceDisplay" style="font-size:20px;font-weight:bold">—</div>
            <div id="vipDisplay" style="font-size:12px;color:var(--muted);margin-top:6px">VIP: —</div>
          </div>
        </div>

        <div class="card">
          <h3>Resources</h3>
          <p>Sounds and images are stored under the sounds and games folders. Use compressed assets for faster load.</p>
        </div>

        <div class="card">
          <h3>Contact</h3>
          <p class="note">For issues or updates, use the repository on GitHub or contact admin via Telegram.</p>
        </div>
      </section>
    </main>

    <footer>
      © <span id="year"></span> AsiaTiger — All rights reserved
    </footer>
  </div>

  <script>
    // small helpers
    document.getElementById('year').textContent = new Date().getFullYear();

    // Optional: preload sounds
    (function preload(){
      const sounds = ['sounds/spin.mp3','sounds/win.mp3'];
      sounds.forEach(src=>{
        const a = new Audio();
        a.src = src;
      });
    })();

    // Minimal API helper used by demo pages
    window.apiSpin = async function(payload){
      // default API base; change to your public API URL if needed
      const API_BASE = '/api';
      try {
        const res = await fetch(API_BASE + '/spin', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        if (!res.ok) {
          const text = await res.text();
          throw new Error(`HTTP ${res.status}: ${text}`);
        }
        return await res.json();
      } catch (err) {
        console.error('apiSpin error', err);
        throw err;
      }
    };

    // Simple helper for opening games
    window.openGame = function(url){
      window.location.href = url;
    };
  </script>
</body>
</html>
